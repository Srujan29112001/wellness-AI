
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HolisticWell - AI-Powered Wellness Platform</title>
    <meta name="description" content="HolisticWell is an AI‑powered platform for personalized nutrition, mental wellness, spiritual practices, and daily routines." />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#667eea" />
    <meta name="color-scheme" content="light dark" />
    <meta name="format-detection" content="telephone=no" />
    <meta property="og:title" content="HolisticWell - AI-Powered Wellness Platform" />
    <meta property="og:description" content="Personalized, science‑backed and spiritual wellness guidance in one place." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://example.com/" />
    <meta property="og:image" content="https://example.com/og-image.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="HolisticWell - AI-Powered Wellness Platform" />
    <meta name="twitter:description" content="Personalized, science‑backed and spiritual wellness guidance in one place." />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link rel="apple-touch-icon" href="/favicon.svg" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="canonical" href="https://example.com/" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="dns-prefetch" href="//unpkg.com" />
    <link rel="preconnect" href="https://unpkg.com" crossorigin />
    <link rel="dns-prefetch" href="//cdn.tailwindcss.com" />
    <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin />
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data: blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https:; style-src 'self' 'unsafe-inline' https:; img-src 'self' data: https:; font-src 'self' https: data:; connect-src 'self' https:; object-src 'none'; base-uri 'self'; frame-ancestors 'none'; upgrade-insecure-requests" />
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.5.0/Recharts.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "HolisticWell",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Web",
      "description": "AI‑powered holistic wellness platform with personalized nutrition, routines, and insights."
    }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-slide-in { animation: slideIn 0.3s ease-out; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .wellness-gradient {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .nutrition-gradient {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .mental-gradient {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .spiritual-gradient {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>
    <noscript>
        HolisticWell requires JavaScript to run. Please enable JavaScript in your browser.
    </noscript>
    
    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo, useRef } = React;

        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false };
            }
            static getDerivedStateFromError() {
                return { hasError: true };
            }
            componentDidCatch(error, info) {
                // In production, send this to your logging service
                console.error('ErrorBoundary caught an error', error, info);
            }
            render() {
                if (this.state.hasError) {
                    return (
                        <div className="min-h-screen gradient-bg flex items-center justify-center text-white text-center p-6">
                            <div>
                                <i className="fas fa-triangle-exclamation text-5xl mb-4"></i>
                                <h1 className="text-2xl font-bold mb-2">Something went wrong</h1>
                                <p className="opacity-90">Please refresh the page. If the issue persists, try again later.</p>
                            </div>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        // Mock API Services
        class APIService {
            static async fetchNutritionData(food) {
                await new Promise(resolve => setTimeout(resolve, 500));
                const mockData = {
                    'apple': { calories: 52, protein: 0.3, carbs: 14, fat: 0.2, fiber: 2.4, vitamins: ['A', 'C', 'K'] },
                    'chicken': { calories: 165, protein: 31, carbs: 0, fat: 3.6, fiber: 0, vitamins: ['B6', 'B12', 'Niacin'] },
                    'rice': { calories: 130, protein: 2.7, carbs: 28, fat: 0.3, fiber: 0.4, vitamins: ['B1', 'B6'] },
                    'spinach': { calories: 23, protein: 2.9, carbs: 3.6, fat: 0.4, fiber: 2.2, vitamins: ['A', 'C', 'K', 'Folate'] },
                    'salmon': { calories: 208, protein: 22, carbs: 0, fat: 13, fiber: 0, vitamins: ['D', 'B12', 'Omega-3'] },
                    'quinoa': { calories: 120, protein: 4.4, carbs: 21, fat: 1.9, fiber: 2.8, vitamins: ['B1', 'B2', 'B6'] },
                    'almonds': { calories: 579, protein: 21, carbs: 22, fat: 50, fiber: 12, vitamins: ['E', 'B2', 'Magnesium'] },
                    'yogurt': { calories: 59, protein: 10, carbs: 3.6, fat: 0.4, fiber: 0, vitamins: ['B12', 'Calcium', 'Probiotics'] }
                };
                return mockData[food.toLowerCase()] || mockData['apple'];
            }

            static async generateMealPlan(profile) {
                await new Promise(resolve => setTimeout(resolve, 1000));
                const tdee = this.calculateTDEE(profile);
                
                return {
                    breakfast: {
                        time: '7:00 AM',
                        calories: Math.round(tdee * 0.25),
                        ingredients: [
                            { name: 'Oatmeal', amount: '60g', calories: 222, protein: 8, carbs: 38, fat: 4 },
                            { name: 'Blueberries', amount: '100g', calories: 57, protein: 0.7, carbs: 14, fat: 0.3 },
                            { name: 'Almond butter', amount: '15g', calories: 98, protein: 3.4, carbs: 3, fat: 8.9 },
                            { name: 'Chia seeds', amount: '10g', calories: 49, protein: 1.7, carbs: 4.3, fat: 3.1 }
                        ],
                        ayurvedicNote: profile.dosha === 'vata' ? 'Warm, grounding breakfast ideal for Vata' : 'Balanced meal for your constitution',
                        spiritualTiming: 'Aligned with sunrise energy for optimal digestion'
                    },
                    lunch: {
                        time: '12:30 PM',
                        calories: Math.round(tdee * 0.35),
                        ingredients: [
                            { name: 'Quinoa', amount: '80g', calories: 96, protein: 3.5, carbs: 17, fat: 1.5 },
                            { name: 'Grilled chicken', amount: '120g', calories: 198, protein: 37, carbs: 0, fat: 4.3 },
                            { name: 'Mixed vegetables', amount: '200g', calories: 82, protein: 2.6, carbs: 17, fat: 0.4 },
                            { name: 'Olive oil', amount: '10ml', calories: 88, protein: 0, carbs: 0, fat: 10 },
                            { name: 'Lemon', amount: '30ml', calories: 7, protein: 0.1, carbs: 2.1, fat: 0.1 }
                        ],
                        ayurvedicNote: 'Peak digestive fire (Agni) - largest meal of the day',
                        spiritualTiming: 'Sun at zenith supports maximum nutrient absorption'
                    },
                    dinner: {
                        time: '6:30 PM',
                        calories: Math.round(tdee * 0.30),
                        ingredients: [
                            { name: 'Wild salmon', amount: '100g', calories: 208, protein: 22, carbs: 0, fat: 13 },
                            { name: 'Sweet potato', amount: '150g', calories: 129, protein: 2.4, carbs: 30, fat: 0.2 },
                            { name: 'Steamed broccoli', amount: '150g', calories: 51, protein: 4.2, carbs: 10, fat: 0.6 },
                            { name: 'Ginger tea', amount: '250ml', calories: 2, protein: 0, carbs: 0.4, fat: 0 }
                        ],
                        ayurvedicNote: 'Light evening meal for better sleep and digestion',
                        spiritualTiming: 'Sunset meal promotes restful sleep and recovery'
                    },
                    snacks: {
                        calories: Math.round(tdee * 0.10),
                        options: [
                            { name: 'Apple with almond butter', amount: '1 medium + 15g', calories: 150 },
                            { name: 'Greek yogurt with honey', amount: '150g + 10g', calories: 140 },
                            { name: 'Mixed nuts', amount: '30g', calories: 180 }
                        ]
                    },
                    hydration: {
                        waterIntake: `${Math.round(profile.weight * 0.033)} liters`,
                        timing: ['Upon waking', 'Before each meal', 'During physical activity', 'Before bed (small amount)'],
                        ayurvedicTip: 'Room temperature or warm water for optimal digestion'
                    },
                    totalNutrients: {
                        calories: tdee,
                        protein: Math.round(profile.weight * 1.6),
                        carbs: Math.round(tdee * 0.45 / 4),
                        fat: Math.round(tdee * 0.25 / 9),
                        fiber: 30
                    }
                };
            }

            static calculateTDEE(profile) {
                const { weight, height, age, gender, activityLevel } = profile;
                let bmr;
                
                if (gender === 'male') {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
                } else {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
                }

                const activityMultipliers = {
                    sedentary: 1.2,
                    light: 1.375,
                    moderate: 1.55,
                    active: 1.725,
                    veryActive: 1.9
                };

                return Math.round(bmr * (activityMultipliers[activityLevel] || 1.55));
            }

            static async getAstrologyReading(profile) {
                await new Promise(resolve => setTimeout(resolve, 800));
                const { birthDate, birthTime, birthPlace } = profile;
                
                const signs = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 
                               'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
                const sunSign = signs[new Date(birthDate).getMonth()];
                
                return {
                    sunSign,
                    moonSign: signs[(signs.indexOf(sunSign) + 4) % 12],
                    risingSign: signs[(signs.indexOf(sunSign) + 8) % 12],
                    currentTransits: {
                        mercury: 'Favorable for communication and learning',
                        venus: 'Harmonious relationships and creativity',
                        mars: 'High energy for physical activities'
                    },
                    todaysFocus: 'Balance and grounding through mindful eating',
                    luckyFoods: ['Green leafy vegetables', 'Whole grains', 'Citrus fruits'],
                    avoidToday: ['Processed foods', 'Excessive spices', 'Cold beverages'],
                    bestMealTimes: ['7:00-8:00 AM', '12:00-1:00 PM', '6:00-7:00 PM'],
                    spiritualPractice: 'Morning sun salutation and evening meditation recommended'
                };
            }

            static async analyzeDoshas(answers) {
                await new Promise(resolve => setTimeout(resolve, 600));
                
                const vataScore = answers.bodyType === 'thin' ? 3 : 1;
                const pittaScore = answers.bodyType === 'medium' ? 3 : 1;
                const kaphaScore = answers.bodyType === 'large' ? 3 : 1;
                
                let dominant = 'vata';
                if (pittaScore > vataScore && pittaScore > kaphaScore) dominant = 'pitta';
                if (kaphaScore > vataScore && kaphaScore > pittaScore) dominant = 'kapha';
                
                return {
                    dominant,
                    scores: { vata: vataScore, pitta: pittaScore, kapha: kaphaScore },
                    characteristics: {
                        vata: 'Creative, energetic, needs grounding foods',
                        pitta: 'Focused, intense, needs cooling foods',
                        kapha: 'Calm, steady, needs stimulating foods'
                    },
                    recommendations: {
                        vata: ['Warm, cooked foods', 'Sweet, sour, salty tastes', 'Regular meal times'],
                        pitta: ['Cool, raw foods', 'Sweet, bitter, astringent tastes', 'Avoid spicy foods'],
                        kapha: ['Light, warm foods', 'Pungent, bitter, astringent tastes', 'Avoid heavy meals']
                    }[dominant],
                    balancingFoods: {
                        vata: ['Sweet potatoes', 'Avocados', 'Warm milk', 'Nuts', 'Cooked grains'],
                        pitta: ['Cucumbers', 'Melons', 'Coconut', 'Leafy greens', 'Sweet fruits'],
                        kapha: ['Spices', 'Leafy greens', 'Legumes', 'Ginger', 'Light fruits']
                    }[dominant]
                };
            }

            static async generateSchedule(profile, preferences) {
                await new Promise(resolve => setTimeout(resolve, 700));
                
                const schedule = [];
                const { wakeTime, sleepTime, workStart, workEnd, meals, exercise, spiritual } = preferences;
                
                // Helper to convert time string to minutes
                const timeToMinutes = (time) => {
                    const [hours, minutes] = time.split(':').map(Number);
                    return hours * 60 + minutes;
                };
                
                // Helper to convert minutes to time string
                const minutesToTime = (minutes) => {
                    const hours = Math.floor(minutes / 60);
                    const mins = minutes % 60;
                    return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;
                };
                
                // Add fixed activities
                schedule.push({
                    time: wakeTime,
                    activity: 'Wake up & Morning routine',
                    type: 'personal',
                    duration: 30,
                    energyLevel: 'low',
                    description: 'Gentle awakening, hydration, bathroom routine'
                });
                
                // Morning spiritual practice
                if (spiritual.morning) {
                    const spiritualTime = timeToMinutes(wakeTime) + 30;
                    schedule.push({
                        time: minutesToTime(spiritualTime),
                        activity: 'Morning Meditation/Spiritual Practice',
                        type: 'spiritual',
                        duration: spiritual.duration || 20,
                        energyLevel: 'medium',
                        description: 'Meditation, prayer, or mindfulness practice'
                    });
                }
                
                // Breakfast
                schedule.push({
                    time: meals.breakfast,
                    activity: 'Breakfast',
                    type: 'meal',
                    duration: 30,
                    energyLevel: 'medium',
                    description: 'Mindful eating, proper nutrition'
                });
                
                // Morning exercise if preferred
                if (exercise.preferred === 'morning') {
                    const exerciseTime = timeToMinutes(meals.breakfast) + 45;
                    schedule.push({
                        time: minutesToTime(exerciseTime),
                        activity: 'Exercise/Physical Activity',
                        type: 'exercise',
                        duration: exercise.duration || 45,
                        energyLevel: 'high',
                        description: 'Cardio, strength training, or yoga'
                    });
                }
                
                // Work block
                schedule.push({
                    time: workStart,
                    activity: 'Work/Professional Activities',
                    type: 'work',
                    duration: (timeToMinutes(workEnd) - timeToMinutes(workStart)) / 2,
                    energyLevel: 'high',
                    description: 'Focus on high-priority tasks'
                });
                
                // Lunch
                schedule.push({
                    time: meals.lunch,
                    activity: 'Lunch Break',
                    type: 'meal',
                    duration: 45,
                    energyLevel: 'medium',
                    description: 'Main meal of the day, mindful eating'
                });
                
                // Afternoon work
                const afternoonWork = timeToMinutes(meals.lunch) + 45;
                schedule.push({
                    time: minutesToTime(afternoonWork),
                    activity: 'Work/Professional Activities',
                    type: 'work',
                    duration: timeToMinutes(workEnd) - afternoonWork,
                    energyLevel: 'medium',
                    description: 'Complete tasks, meetings, planning'
                });
                
                // Evening exercise if preferred
                if (exercise.preferred === 'evening') {
                    const exerciseTime = timeToMinutes(workEnd) + 30;
                    schedule.push({
                        time: minutesToTime(exerciseTime),
                        activity: 'Exercise/Physical Activity',
                        type: 'exercise',
                        duration: exercise.duration || 45,
                        energyLevel: 'high',
                        description: 'Cardio, strength training, or yoga'
                    });
                }
                
                // Dinner
                schedule.push({
                    time: meals.dinner,
                    activity: 'Dinner',
                    type: 'meal',
                    duration: 45,
                    energyLevel: 'low',
                    description: 'Light evening meal for better sleep'
                });
                
                // Evening spiritual practice
                if (spiritual.evening) {
                    const spiritualTime = timeToMinutes(meals.dinner) + 60;
                    schedule.push({
                        time: minutesToTime(spiritualTime),
                        activity: 'Evening Meditation/Reflection',
                        type: 'spiritual',
                        duration: spiritual.duration || 20,
                        energyLevel: 'low',
                        description: 'Gratitude practice, journaling, meditation'
                    });
                }
                
                // Personal time
                const personalTime = timeToMinutes(sleepTime) - 90;
                schedule.push({
                    time: minutesToTime(personalTime),
                    activity: 'Personal Time/Hobbies',
                    type: 'personal',
                    duration: 60,
                    energyLevel: 'low',
                    description: 'Reading, hobbies, family time'
                });
                
                // Sleep preparation
                schedule.push({
                    time: minutesToTime(timeToMinutes(sleepTime) - 30),
                    activity: 'Sleep Preparation',
                    type: 'personal',
                    duration: 30,
                    energyLevel: 'low',
                    description: 'Wind down routine, prepare for rest'
                });
                
                // Sleep
                schedule.push({
                    time: sleepTime,
                    activity: 'Sleep',
                    type: 'sleep',
                    duration: timeToMinutes(wakeTime) + (24 * 60) - timeToMinutes(sleepTime),
                    energyLevel: 'rest',
                    description: '7-9 hours of restorative sleep'
                });
                
                // Sort schedule by time
                return schedule.sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));
            }

            static async analyzePersonality(answers) {
                await new Promise(resolve => setTimeout(resolve, 500));
                
                // Simple Big Five scoring based on answers
                return {
                    openness: Math.round(Math.random() * 30 + 60),
                    conscientiousness: Math.round(Math.random() * 30 + 65),
                    extraversion: Math.round(Math.random() * 40 + 40),
                    agreeableness: Math.round(Math.random() * 30 + 60),
                    neuroticism: Math.round(Math.random() * 40 + 30),
                    profile: 'Balanced Achiever',
                    strengths: ['Goal-oriented', 'Adaptable', 'Empathetic'],
                    growthAreas: ['Stress management', 'Work-life balance'],
                    wellnessStyle: 'You thrive with structured routines but need flexibility for spontaneity',
                    recommendedPractices: [
                        'Scheduled meditation with optional timing',
                        'Meal prep with variety options',
                        'Mix of solo and group exercises'
                    ]
                };
            }
        }

        // Main App Component
        const WellnessApp = () => {
            const [currentView, setCurrentView] = useState('landing');
            const [userProfile, setUserProfile] = useState(null);
            const [onboardingStep, setOnboardingStep] = useState(1);
            const [onboardingData, setOnboardingData] = useState({});
            const [mealPlan, setMealPlan] = useState(null);
            const [schedule, setSchedule] = useState(null);
            const [loading, setLoading] = useState(false);
            const [notifications, setNotifications] = useState([]);

            useEffect(() => {
                // Load saved profile from localStorage
                const savedProfile = localStorage.getItem('wellnessProfile');
                if (savedProfile) {
                    const profile = JSON.parse(savedProfile);
                    setUserProfile(profile);
                    setCurrentView('dashboard');
                }
            }, []);

            const showNotification = (message, type = 'success') => {
                const id = Date.now();
                setNotifications(prev => [...prev, { id, message, type }]);
                setTimeout(() => {
                    setNotifications(prev => prev.filter(n => n.id !== id));
                }, 3000);
            };

            // Landing Page Component
            const LandingPage = () => (
                <div className="min-h-screen gradient-bg flex flex-col">
                    <nav className="p-6 flex justify-between items-center">
                        <div className="flex items-center space-x-2">
                            <i className="fas fa-leaf text-white text-2xl"></i>
                            <span className="text-white font-bold text-xl">HolisticWell</span>
                        </div>
                        <button
                            onClick={() => setCurrentView('onboarding')}
                            className="bg-white text-purple-600 px-6 py-2 rounded-full font-semibold hover:bg-opacity-90 transition"
                        >
                            Get Started
                        </button>
                    </nav>

                    <div className="flex-1 flex items-center justify-center px-6">
                        <div className="max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                            <div className="text-white animate-fade-in">
                                <h1 className="text-5xl font-bold mb-6">
                                    Your Complete AI Wellness Journey
                                </h1>
                                <p className="text-xl mb-8 opacity-90">
                                    Integrating nutrition, mental health, and spiritual wellness into one 
                                    personalized platform. Get AI-powered meal plans, optimal schedules, 
                                    and holistic health insights tailored to your unique needs.
                                </p>
                                <div className="flex flex-wrap gap-4 mb-8">
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle"></i>
                                        <span>Personalized Meal Plans</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle"></i>
                                        <span>Daily Schedule Optimization</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle"></i>
                                        <span>Ayurvedic & Astrological Insights</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle"></i>
                                        <span>Mental Wellness Tracking</span>
                                    </div>
                                </div>
                                <button
                                    onClick={() => setCurrentView('onboarding')}
                                    className="bg-white text-purple-600 px-8 py-4 rounded-full text-lg font-bold hover:bg-opacity-90 transition transform hover:scale-105"
                                >
                                    Start Your Journey →
                                </button>
                            </div>

                            <div className="grid grid-cols-2 gap-4 animate-fade-in">
                                <div className="glass-morphism rounded-lg p-6 text-white">
                                    <i className="fas fa-apple-alt text-3xl mb-4"></i>
                                    <h3 className="font-bold mb-2">Smart Nutrition</h3>
                                    <p className="text-sm opacity-80">
                                        AI-generated meal plans with precise ingredients based on your health goals
                                    </p>
                                </div>
                                <div className="glass-morphism rounded-lg p-6 text-white">
                                    <i className="fas fa-brain text-3xl mb-4"></i>
                                    <h3 className="font-bold mb-2">Mental Health</h3>
                                    <p className="text-sm opacity-80">
                                        Mood tracking and meditation recommendations
                                    </p>
                                </div>
                                <div className="glass-morphism rounded-lg p-6 text-white">
                                    <i className="fas fa-moon text-3xl mb-4"></i>
                                    <h3 className="font-bold mb-2">Spiritual Wellness</h3>
                                    <p className="text-sm opacity-80">
                                        Astrology and Ayurvedic guidance for balance
                                    </p>
                                </div>
                                <div className="glass-morphism rounded-lg p-6 text-white">
                                    <i className="fas fa-clock text-3xl mb-4"></i>
                                    <h3 className="font-bold mb-2">Smart Scheduling</h3>
                                    <p className="text-sm opacity-80">
                                        Optimize your day for peak performance
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Multi-step Onboarding Form
            const OnboardingForm = () => {
                const steps = [
                    { title: 'Basic Information', icon: 'fa-user' },
                    { title: 'Physical Metrics', icon: 'fa-heartbeat' },
                    { title: 'Medical History', icon: 'fa-notes-medical' },
                    { title: 'Dietary Preferences', icon: 'fa-utensils' },
                    { title: 'Schedule', icon: 'fa-calendar' },
                    { title: 'Wellness Goals', icon: 'fa-bullseye' },
                    { title: 'Spiritual Profile', icon: 'fa-moon' }
                ];

                const handleStepSubmit = (stepData) => {
                    setOnboardingData(prev => ({ ...prev, ...stepData }));
                    
                    if (onboardingStep < 7) {
                        setOnboardingStep(onboardingStep + 1);
                    } else {
                        completeOnboarding();
                    }
                };

                const completeOnboarding = async () => {
                    setLoading(true);
                    
                    // Process the complete profile
                    const profile = {
                        ...onboardingData,
                        createdAt: new Date().toISOString(),
                        wellnessScore: 75
                    };
                    
                    // Save to localStorage
                    localStorage.setItem('wellnessProfile', JSON.stringify(profile));
                    
                    // Generate initial recommendations
                    const [mealPlanData, scheduleData, doshaData] = await Promise.all([
                        APIService.generateMealPlan(profile),
                        APIService.generateSchedule(profile, onboardingData.schedule),
                        APIService.analyzeDoshas(onboardingData)
                    ]);
                    
                    setUserProfile({ ...profile, dosha: doshaData.dominant });
                    setMealPlan(mealPlanData);
                    setSchedule(scheduleData);
                    
                    setLoading(false);
                    showNotification('Welcome to HolisticWell! Your personalized wellness journey begins now.', 'success');
                    setCurrentView('dashboard');
                };

                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-6">
                        <div className="max-w-3xl mx-auto">
                            {/* Progress Bar */}
                            <div className="mb-8">
                                <div className="flex items-center justify-between mb-4">
                                    <h2 className="text-2xl font-bold text-gray-800">Create Your Wellness Profile</h2>
                                    <span className="text-sm text-gray-600">
                                        Step {onboardingStep} of 7 ({Math.round((onboardingStep / 7) * 100)}% complete)
                                    </span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                    <div 
                                        className="gradient-bg h-2 rounded-full transition-all duration-500"
                                        style={{ width: `${(onboardingStep / 7) * 100}%` }}
                                    ></div>
                                </div>

                                {/* Step Indicators */}
                                <div className="flex justify-between mt-4">
                                    {steps.map((step, index) => (
                                        <div 
                                            key={index}
                                            className={`flex flex-col items-center ${
                                                index + 1 <= onboardingStep ? 'text-purple-600' : 'text-gray-400'
                                            }`}
                                        >
                                            <div className={`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${
                                                index + 1 <= onboardingStep ? 'gradient-bg text-white' : 'bg-gray-200'
                                            }`}>
                                                <i className={`fas ${step.icon} text-sm`}></i>
                                            </div>
                                            <span className="text-xs hidden md:block">{step.title}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Form Steps */}
                            <div className="bg-white rounded-lg shadow-lg p-8 animate-fade-in">
                                {onboardingStep === 1 && <BasicInfoStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 2 && <PhysicalMetricsStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 3 && <MedicalHistoryStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 4 && <DietaryPreferencesStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 5 && <ScheduleStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 6 && <WellnessGoalsStep onSubmit={handleStepSubmit} data={onboardingData} />}
                                {onboardingStep === 7 && <SpiritualProfileStep onSubmit={handleStepSubmit} data={onboardingData} />}
                            </div>

                            {/* Navigation */}
                            <div className="flex justify-between mt-6">
                                <button
                                    onClick={() => onboardingStep > 1 && setOnboardingStep(onboardingStep - 1)}
                                    className={`px-6 py-2 rounded-full ${
                                        onboardingStep === 1 
                                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed' 
                                            : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                    }`}
                                    disabled={onboardingStep === 1}
                                >
                                    ← Previous
                                </button>
                                <button
                                    onClick={() => {
                                        localStorage.setItem('onboardingProgress', JSON.stringify({
                                            step: onboardingStep,
                                            data: onboardingData
                                        }));
                                        showNotification('Progress saved! You can continue later.', 'info');
                                    }}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300"
                                >
                                    Save & Continue Later
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            // Individual Step Components
            const BasicInfoStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    name: data.name || '',
                    age: data.age || '',
                    gender: data.gender || '',
                    email: data.email || ''
                });

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Let's get to know you</h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Full Name
                                </label>
                                <input
                                    type="text"
                                    required
                                    value={formData.name}
                                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="John Doe"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Age
                                </label>
                                <input
                                    type="number"
                                    required
                                    min="18"
                                    max="120"
                                    value={formData.age}
                                    onChange={(e) => setFormData({...formData, age: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Gender
                                </label>
                                <select
                                    required
                                    value={formData.gender}
                                    onChange={(e) => setFormData({...formData, gender: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                >
                                    <option value="">Select Gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                    <option value="prefer-not-to-say">Prefer not to say</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Email Address
                                </label>
                                <input
                                    type="email"
                                    required
                                    value={formData.email}
                                    onChange={(e) => setFormData({...formData, email: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="john@example.com"
                                />
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const PhysicalMetricsStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    height: data.height || '',
                    weight: data.weight || '',
                    activityLevel: data.activityLevel || '',
                    bodyType: data.bodyType || ''
                });

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Physical Metrics</h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Height (cm)
                                </label>
                                <input
                                    type="number"
                                    required
                                    min="100"
                                    max="250"
                                    value={formData.height}
                                    onChange={(e) => setFormData({...formData, height: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Weight (kg)
                                </label>
                                <input
                                    type="number"
                                    required
                                    min="30"
                                    max="300"
                                    value={formData.weight}
                                    onChange={(e) => setFormData({...formData, weight: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Activity Level
                                </label>
                                <select
                                    required
                                    value={formData.activityLevel}
                                    onChange={(e) => setFormData({...formData, activityLevel: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Activity Level</option>
                                    <option value="sedentary">Sedentary (little or no exercise)</option>
                                    <option value="light">Light (exercise 1-3 days/week)</option>
                                    <option value="moderate">Moderate (exercise 3-5 days/week)</option>
                                    <option value="active">Active (exercise 6-7 days/week)</option>
                                    <option value="veryActive">Very Active (intense exercise daily)</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Body Type (for Ayurvedic analysis)
                                </label>
                                <select
                                    required
                                    value={formData.bodyType}
                                    onChange={(e) => setFormData({...formData, bodyType: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Body Type</option>
                                    <option value="thin">Thin/Lean (Ectomorph)</option>
                                    <option value="medium">Medium/Athletic (Mesomorph)</option>
                                    <option value="large">Large/Stocky (Endomorph)</option>
                                </select>
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const MedicalHistoryStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    conditions: data.conditions || [],
                    allergies: data.allergies || [],
                    medications: data.medications || ''
                });

                const conditions = [
                    'Diabetes', 'Hypertension', 'Heart Disease', 'Thyroid Issues',
                    'PCOS', 'IBS', 'Celiac Disease', 'Lactose Intolerance', 'None'
                ];

                const allergens = [
                    'Peanuts', 'Tree Nuts', 'Milk', 'Eggs', 'Wheat', 'Soy',
                    'Fish', 'Shellfish', 'Sesame', 'None'
                ];

                const toggleCondition = (condition) => {
                    setFormData(prev => ({
                        ...prev,
                        conditions: prev.conditions.includes(condition)
                            ? prev.conditions.filter(c => c !== condition)
                            : [...prev.conditions, condition]
                    }));
                };

                const toggleAllergy = (allergy) => {
                    setFormData(prev => ({
                        ...prev,
                        allergies: prev.allergies.includes(allergy)
                            ? prev.allergies.filter(a => a !== allergy)
                            : [...prev.allergies, allergy]
                    }));
                };

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Medical History</h3>
                        <div className="space-y-6">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Medical Conditions (select all that apply)
                                </label>
                                <div className="grid grid-cols-2 gap-3">
                                    {conditions.map(condition => (
                                        <label key={condition} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.conditions.includes(condition)}
                                                onChange={() => toggleCondition(condition)}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{condition}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Allergies (select all that apply)
                                </label>
                                <div className="grid grid-cols-2 gap-3">
                                    {allergens.map(allergy => (
                                        <label key={allergy} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.allergies.includes(allergy)}
                                                onChange={() => toggleAllergy(allergy)}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{allergy}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Current Medications (optional)
                                </label>
                                <textarea
                                    value={formData.medications}
                                    onChange={(e) => setFormData({...formData, medications: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="List any medications you're currently taking..."
                                />
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const DietaryPreferencesStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    dietType: data.dietType || '',
                    cuisines: data.cuisines || [],
                    mealFrequency: data.mealFrequency || '3',
                    budgetPerWeek: data.budgetPerWeek || '',
                    avoidFoods: data.avoidFoods || ''
                });

                const cuisineOptions = [
                    'Indian', 'Mediterranean', 'Asian', 'Mexican', 'Italian',
                    'American', 'Middle Eastern', 'Thai', 'Japanese'
                ];

                const toggleCuisine = (cuisine) => {
                    setFormData(prev => ({
                        ...prev,
                        cuisines: prev.cuisines.includes(cuisine)
                            ? prev.cuisines.filter(c => c !== cuisine)
                            : [...prev.cuisines, cuisine]
                    }));
                };

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Dietary Preferences</h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Diet Type
                                </label>
                                <select
                                    required
                                    value={formData.dietType}
                                    onChange={(e) => setFormData({...formData, dietType: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Diet Type</option>
                                    <option value="omnivore">Omnivore</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="pescatarian">Pescatarian</option>
                                    <option value="keto">Keto</option>
                                    <option value="paleo">Paleo</option>
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Favorite Cuisines (select up to 3)
                                </label>
                                <div className="grid grid-cols-3 gap-3">
                                    {cuisineOptions.map(cuisine => (
                                        <label key={cuisine} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.cuisines.includes(cuisine)}
                                                onChange={() => toggleCuisine(cuisine)}
                                                disabled={!formData.cuisines.includes(cuisine) && formData.cuisines.length >= 3}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{cuisine}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Meals per Day
                                </label>
                                <select
                                    value={formData.mealFrequency}
                                    onChange={(e) => setFormData({...formData, mealFrequency: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="2">2 meals</option>
                                    <option value="3">3 meals</option>
                                    <option value="4">3 meals + 1 snack</option>
                                    <option value="5">3 meals + 2 snacks</option>
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Weekly Food Budget (USD)
                                </label>
                                <input
                                    type="number"
                                    required
                                    min="20"
                                    max="1000"
                                    value={formData.budgetPerWeek}
                                    onChange={(e) => setFormData({...formData, budgetPerWeek: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    placeholder="e.g., 100"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Foods to Avoid (optional)
                                </label>
                                <textarea
                                    value={formData.avoidFoods}
                                    onChange={(e) => setFormData({...formData, avoidFoods: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="2"
                                    placeholder="e.g., spicy foods, raw vegetables, etc."
                                />
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const ScheduleStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    schedule: {
                        wakeTime: data.schedule?.wakeTime || '06:00',
                        sleepTime: data.schedule?.sleepTime || '22:00',
                        workStart: data.schedule?.workStart || '09:00',
                        workEnd: data.schedule?.workEnd || '17:00',
                        meals: {
                            breakfast: data.schedule?.meals?.breakfast || '07:00',
                            lunch: data.schedule?.meals?.lunch || '12:30',
                            dinner: data.schedule?.meals?.dinner || '18:30'
                        },
                        exercise: {
                            preferred: data.schedule?.exercise?.preferred || 'morning',
                            duration: data.schedule?.exercise?.duration || '45'
                        },
                        spiritual: {
                            morning: data.schedule?.spiritual?.morning || true,
                            evening: data.schedule?.spiritual?.evening || true,
                            duration: data.schedule?.spiritual?.duration || '20'
                        }
                    }
                });

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Daily Schedule Preferences</h3>
                        <div className="space-y-6">
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Wake Time
                                    </label>
                                    <input
                                        type="time"
                                        required
                                        value={formData.schedule.wakeTime}
                                        onChange={(e) => setFormData({
                                            schedule: {...formData.schedule, wakeTime: e.target.value}
                                        })}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Sleep Time
                                    </label>
                                    <input
                                        type="time"
                                        required
                                        value={formData.schedule.sleepTime}
                                        onChange={(e) => setFormData({
                                            schedule: {...formData.schedule, sleepTime: e.target.value}
                                        })}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    />
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Work Start Time
                                    </label>
                                    <input
                                        type="time"
                                        required
                                        value={formData.schedule.workStart}
                                        onChange={(e) => setFormData({
                                            schedule: {...formData.schedule, workStart: e.target.value}
                                        })}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Work End Time
                                    </label>
                                    <input
                                        type="time"
                                        required
                                        value={formData.schedule.workEnd}
                                        onChange={(e) => setFormData({
                                            schedule: {...formData.schedule, workEnd: e.target.value}
                                        })}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    />
                                </div>
                            </div>

                            <div>
                                <h4 className="text-sm font-medium text-gray-700 mb-3">Preferred Meal Times</h4>
                                <div className="grid grid-cols-3 gap-4">
                                    <div>
                                        <label className="block text-xs text-gray-600 mb-1">Breakfast</label>
                                        <input
                                            type="time"
                                            value={formData.schedule.meals.breakfast}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    meals: {...formData.schedule.meals, breakfast: e.target.value}
                                                }
                                            })}
                                            className="w-full px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-xs text-gray-600 mb-1">Lunch</label>
                                        <input
                                            type="time"
                                            value={formData.schedule.meals.lunch}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    meals: {...formData.schedule.meals, lunch: e.target.value}
                                                }
                                            })}
                                            className="w-full px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-xs text-gray-600 mb-1">Dinner</label>
                                        <input
                                            type="time"
                                            value={formData.schedule.meals.dinner}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    meals: {...formData.schedule.meals, dinner: e.target.value}
                                                }
                                            })}
                                            className="w-full px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        />
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 className="text-sm font-medium text-gray-700 mb-3">Exercise Preferences</h4>
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-xs text-gray-600 mb-1">Preferred Time</label>
                                        <select
                                            value={formData.schedule.exercise.preferred}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    exercise: {...formData.schedule.exercise, preferred: e.target.value}
                                                }
                                            })}
                                            className="w-full px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        >
                                            <option value="morning">Morning</option>
                                            <option value="afternoon">Afternoon</option>
                                            <option value="evening">Evening</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-xs text-gray-600 mb-1">Duration (minutes)</label>
                                        <input
                                            type="number"
                                            min="15"
                                            max="120"
                                            value={formData.schedule.exercise.duration}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    exercise: {...formData.schedule.exercise, duration: e.target.value}
                                                }
                                            })}
                                            className="w-full px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        />
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 className="text-sm font-medium text-gray-700 mb-3">Spiritual Practice</h4>
                                <div className="space-y-2">
                                    <label className="flex items-center space-x-2">
                                        <input
                                            type="checkbox"
                                            checked={formData.schedule.spiritual.morning}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    spiritual: {...formData.schedule.spiritual, morning: e.target.checked}
                                                }
                                            })}
                                            className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                        />
                                        <span className="text-sm">Morning meditation/spiritual practice</span>
                                    </label>
                                    <label className="flex items-center space-x-2">
                                        <input
                                            type="checkbox"
                                            checked={formData.schedule.spiritual.evening}
                                            onChange={(e) => setFormData({
                                                schedule: {
                                                    ...formData.schedule,
                                                    spiritual: {...formData.schedule.spiritual, evening: e.target.checked}
                                                }
                                            })}
                                            className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                        />
                                        <span className="text-sm">Evening meditation/reflection</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const WellnessGoalsStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    primaryGoal: data.primaryGoal || '',
                    secondaryGoals: data.secondaryGoals || [],
                    targetWeight: data.targetWeight || '',
                    timeframe: data.timeframe || '',
                    challenges: data.challenges || []
                });

                const secondaryGoalOptions = [
                    'Improve energy levels',
                    'Better sleep quality',
                    'Reduce stress',
                    'Build muscle',
                    'Improve digestion',
                    'Enhance mental clarity',
                    'Boost immunity',
                    'Increase flexibility'
                ];

                const challengeOptions = [
                    'Emotional eating',
                    'Time constraints',
                    'Lack of motivation',
                    'Food cravings',
                    'Social eating',
                    'Travel frequently',
                    'Shift work',
                    'Family food preferences'
                ];

                const toggleGoal = (goal) => {
                    setFormData(prev => ({
                        ...prev,
                        secondaryGoals: prev.secondaryGoals.includes(goal)
                            ? prev.secondaryGoals.filter(g => g !== goal)
                            : [...prev.secondaryGoals, goal]
                    }));
                };

                const toggleChallenge = (challenge) => {
                    setFormData(prev => ({
                        ...prev,
                        challenges: prev.challenges.includes(challenge)
                            ? prev.challenges.filter(c => c !== challenge)
                            : [...prev.challenges, challenge]
                    }));
                };

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Wellness Goals</h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Primary Goal
                                </label>
                                <select
                                    required
                                    value={formData.primaryGoal}
                                    onChange={(e) => setFormData({...formData, primaryGoal: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Primary Goal</option>
                                    <option value="weight-loss">Weight Loss</option>
                                    <option value="weight-gain">Weight Gain</option>
                                    <option value="muscle-building">Muscle Building</option>
                                    <option value="maintain-weight">Maintain Weight</option>
                                    <option value="improve-health">Improve Overall Health</option>
                                    <option value="manage-condition">Manage Medical Condition</option>
                                </select>
                            </div>

                            {(formData.primaryGoal === 'weight-loss' || formData.primaryGoal === 'weight-gain') && (
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Target Weight (kg)
                                    </label>
                                    <input
                                        type="number"
                                        required
                                        value={formData.targetWeight}
                                        onChange={(e) => setFormData({...formData, targetWeight: e.target.value})}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    />
                                </div>
                            )}

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Timeframe
                                </label>
                                <select
                                    required
                                    value={formData.timeframe}
                                    onChange={(e) => setFormData({...formData, timeframe: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Timeframe</option>
                                    <option value="1-month">1 month</option>
                                    <option value="3-months">3 months</option>
                                    <option value="6-months">6 months</option>
                                    <option value="1-year">1 year</option>
                                    <option value="no-rush">No specific timeframe</option>
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Secondary Goals (select all that apply)
                                </label>
                                <div className="grid grid-cols-2 gap-3">
                                    {secondaryGoalOptions.map(goal => (
                                        <label key={goal} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.secondaryGoals.includes(goal)}
                                                onChange={() => toggleGoal(goal)}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{goal}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Current Challenges (select all that apply)
                                </label>
                                <div className="grid grid-cols-2 gap-3">
                                    {challengeOptions.map(challenge => (
                                        <label key={challenge} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.challenges.includes(challenge)}
                                                onChange={() => toggleChallenge(challenge)}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{challenge}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Continue →
                        </button>
                    </form>
                );
            };

            const SpiritualProfileStep = ({ onSubmit, data }) => {
                const [formData, setFormData] = useState({
                    birthDate: data.birthDate || '',
                    birthTime: data.birthTime || '',
                    birthPlace: data.birthPlace || '',
                    spiritualInterests: data.spiritualInterests || [],
                    meditationExperience: data.meditationExperience || ''
                });

                const spiritualOptions = [
                    'Astrology',
                    'Ayurveda',
                    'Meditation',
                    'Yoga',
                    'Mindfulness',
                    'Prayer',
                    'Energy healing',
                    'Crystals',
                    'Tarot'
                ];

                const toggleInterest = (interest) => {
                    setFormData(prev => ({
                        ...prev,
                        spiritualInterests: prev.spiritualInterests.includes(interest)
                            ? prev.spiritualInterests.filter(i => i !== interest)
                            : [...prev.spiritualInterests, interest]
                    }));
                };

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(formData);
                };

                return (
                    <form onSubmit={handleSubmit}>
                        <h3 className="text-xl font-bold mb-6">Spiritual & Holistic Profile</h3>
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Birth Date (for astrological insights)
                                </label>
                                <input
                                    type="date"
                                    required
                                    value={formData.birthDate}
                                    onChange={(e) => setFormData({...formData, birthDate: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Birth Time (optional, for detailed chart)
                                </label>
                                <input
                                    type="time"
                                    value={formData.birthTime}
                                    onChange={(e) => setFormData({...formData, birthTime: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Birth Place
                                </label>
                                <input
                                    type="text"
                                    required
                                    value={formData.birthPlace}
                                    onChange={(e) => setFormData({...formData, birthPlace: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    placeholder="City, Country"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-3">
                                    Spiritual Interests (select all that apply)
                                </label>
                                <div className="grid grid-cols-3 gap-3">
                                    {spiritualOptions.map(interest => (
                                        <label key={interest} className="flex items-center space-x-2 cursor-pointer">
                                            <input
                                                type="checkbox"
                                                checked={formData.spiritualInterests.includes(interest)}
                                                onChange={() => toggleInterest(interest)}
                                                className="w-4 h-4 text-purple-600 rounded focus:ring-purple-500"
                                            />
                                            <span className="text-sm">{interest}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Meditation Experience
                                </label>
                                <select
                                    required
                                    value={formData.meditationExperience}
                                    onChange={(e) => setFormData({...formData, meditationExperience: e.target.value})}
                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                >
                                    <option value="">Select Experience Level</option>
                                    <option value="none">No experience</option>
                                    <option value="beginner">Beginner (tried a few times)</option>
                                    <option value="intermediate">Intermediate (practice occasionally)</option>
                                    <option value="regular">Regular (practice weekly)</option>
                                    <option value="advanced">Advanced (daily practice)</option>
                                </select>
                            </div>
                        </div>
                        <button
                            type="submit"
                            className="w-full mt-6 gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition"
                        >
                            Complete Profile →
                        </button>
                    </form>
                );
            };

            // Dashboard Component
            const Dashboard = () => {
                const [activeTab, setActiveTab] = useState('overview');
                const [refreshing, setRefreshing] = useState(false);

                const regenerateMealPlan = async () => {
                    setRefreshing(true);
                    const newMealPlan = await APIService.generateMealPlan(userProfile);
                    setMealPlan(newMealPlan);
                    setRefreshing(false);
                    showNotification('Meal plan regenerated successfully!', 'success');
                };

                const regenerateSchedule = async () => {
                    setRefreshing(true);
                    const newSchedule = await APIService.generateSchedule(userProfile, userProfile.schedule);
                    setSchedule(newSchedule);
                    setRefreshing(false);
                    showNotification('Schedule regenerated successfully!', 'success');
                };

                return (
                    <div className="min-h-screen bg-gray-50">
                        {/* Header */}
                        <header className="bg-white shadow-sm">
                            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                                <div className="flex justify-between items-center h-16">
                                    <div className="flex items-center space-x-3">
                                        <i className="fas fa-leaf text-purple-600 text-2xl"></i>
                                        <span className="font-bold text-xl">HolisticWell</span>
                                    </div>
                                    <div className="flex items-center space-x-4">
                                        <div className="text-right">
                                            <p className="text-sm text-gray-600">Welcome back,</p>
                                            <p className="font-semibold">{userProfile?.name}</p>
                                        </div>
                                        <button
                                            onClick={() => {
                                                localStorage.removeItem('wellnessProfile');
                                                setUserProfile(null);
                                                setCurrentView('landing');
                                                showNotification('Logged out successfully', 'info');
                                            }}
                                            className="text-gray-500 hover:text-gray-700"
                                        >
                                            <i className="fas fa-sign-out-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </header>

                        {/* Tabs */}
                        <div className="bg-white border-b">
                            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                                <nav className="flex space-x-8">
                                    {[
                                        { id: 'overview', label: 'Overview', icon: 'fa-th-large' },
                                        { id: 'nutrition', label: 'Nutrition', icon: 'fa-apple-alt' },
                                        { id: 'schedule', label: 'Schedule', icon: 'fa-calendar' },
                                        { id: 'spiritual', label: 'Spiritual', icon: 'fa-moon' },
                                        { id: 'insights', label: 'Insights', icon: 'fa-chart-line' }
                                    ].map(tab => (
                                        <button
                                            key={tab.id}
                                            onClick={() => setActiveTab(tab.id)}
                                            className={`py-4 px-1 border-b-2 font-medium text-sm transition ${
                                                activeTab === tab.id
                                                    ? 'border-purple-500 text-purple-600'
                                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                                            }`}
                                        >
                                            <i className={`fas ${tab.icon} mr-2`}></i>
                                            {tab.label}
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        </div>

                        {/* Content */}
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                            {activeTab === 'overview' && <OverviewTab />}
                            {activeTab === 'nutrition' && <NutritionTab mealPlan={mealPlan} onRegenerate={regenerateMealPlan} refreshing={refreshing} />}
                            {activeTab === 'schedule' && <ScheduleTab schedule={schedule} onRegenerate={regenerateSchedule} refreshing={refreshing} />}
                            {activeTab === 'spiritual' && <SpiritualTab profile={userProfile} />}
                            {activeTab === 'insights' && <InsightsTab profile={userProfile} />}
                        </div>
                    </div>
                );
            };

            // Dashboard Tab Components
            const OverviewTab = () => {
                const stats = [
                    { label: 'Wellness Score', value: userProfile?.wellnessScore || 75, icon: 'fa-heart', gradient: 'wellness-gradient' },
                    { label: 'Daily Calories', value: mealPlan?.totalNutrients?.calories || 2000, icon: 'fa-fire', gradient: 'nutrition-gradient' },
                    { label: 'Sleep Target', value: '8h', icon: 'fa-bed', gradient: 'mental-gradient' },
                    { label: 'Dosha Type', value: userProfile?.dosha || 'Vata', icon: 'fa-yin-yang', gradient: 'spiritual-gradient' }
                ];

                return (
                    <div className="space-y-6 animate-fade-in">
                        <h2 className="text-2xl font-bold text-gray-800">Your Wellness Overview</h2>
                        
                        {/* Stats Grid */}
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            {stats.map((stat, index) => (
                                <div key={index} className="bg-white rounded-lg shadow-md p-6">
                                    <div className={`w-12 h-12 rounded-lg ${stat.gradient} flex items-center justify-center mb-4`}>
                                        <i className={`fas ${stat.icon} text-white text-xl`}></i>
                                    </div>
                                    <p className="text-gray-600 text-sm">{stat.label}</p>
                                    <p className="text-2xl font-bold text-gray-800">{stat.value}</p>
                                </div>
                            ))}
                        </div>

                        {/* Today's Summary */}
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Today's Focus</h3>
                                <div className="space-y-3">
                                    <div className="flex items-center space-x-3">
                                        <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                                        <span className="text-sm">Morning meditation completed</span>
                                    </div>
                                    <div className="flex items-center space-x-3">
                                        <div className="w-2 h-2 bg-yellow-500 rounded-full"></div>
                                        <span className="text-sm">Lunch meal plan ready</span>
                                    </div>
                                    <div className="flex items-center space-x-3">
                                        <div className="w-2 h-2 bg-blue-500 rounded-full"></div>
                                        <span className="text-sm">Evening yoga scheduled at 6 PM</span>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Weekly Progress</h3>
                                <div className="space-y-3">
                                    <div>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span>Nutrition Goals</span>
                                            <span>85%</span>
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-2">
                                            <div className="nutrition-gradient h-2 rounded-full" style={{width: '85%'}}></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span>Exercise Completion</span>
                                            <span>70%</span>
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-2">
                                            <div className="mental-gradient h-2 rounded-full" style={{width: '70%'}}></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span>Spiritual Practice</span>
                                            <span>90%</span>
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-2">
                                            <div className="spiritual-gradient h-2 rounded-full" style={{width: '90%'}}></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Quick Actions */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-lg font-semibold mb-4">Quick Actions</h3>
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <button className="p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition">
                                    <i className="fas fa-plus-circle text-purple-600 text-xl mb-2"></i>
                                    <p className="text-sm">Log Meal</p>
                                </button>
                                <button className="p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition">
                                    <i className="fas fa-chart-line text-blue-600 text-xl mb-2"></i>
                                    <p className="text-sm">Track Mood</p>
                                </button>
                                <button className="p-4 bg-green-50 rounded-lg hover:bg-green-100 transition">
                                    <i className="fas fa-dumbbell text-green-600 text-xl mb-2"></i>
                                    <p className="text-sm">Log Exercise</p>
                                </button>
                                <button className="p-4 bg-pink-50 rounded-lg hover:bg-pink-100 transition">
                                    <i className="fas fa-moon text-pink-600 text-xl mb-2"></i>
                                    <p className="text-sm">Meditate</p>
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const NutritionTab = ({ mealPlan, onRegenerate, refreshing }) => {
                if (!mealPlan) {
                    return <div className="text-center py-8">Loading meal plan...</div>;
                }

                return (
                    <div className="space-y-6 animate-fade-in">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-gray-800">Today's Meal Plan</h2>
                            <button
                                onClick={onRegenerate}
                                disabled={refreshing}
                                className="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:opacity-50"
                            >
                                {refreshing ? (
                                    <><i className="fas fa-spinner fa-spin mr-2"></i>Regenerating...</>
                                ) : (
                                    <><i className="fas fa-sync-alt mr-2"></i>Regenerate Plan</>
                                )}
                            </button>
                        </div>

                        {/* Nutrition Summary */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-lg font-semibold mb-4">Daily Nutrition Targets</h3>
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                <div className="text-center">
                                    <p className="text-3xl font-bold text-purple-600">{mealPlan.totalNutrients.calories}</p>
                                    <p className="text-sm text-gray-600">Calories</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-3xl font-bold text-blue-600">{mealPlan.totalNutrients.protein}g</p>
                                    <p className="text-sm text-gray-600">Protein</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-3xl font-bold text-green-600">{mealPlan.totalNutrients.carbs}g</p>
                                    <p className="text-sm text-gray-600">Carbs</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-3xl font-bold text-yellow-600">{mealPlan.totalNutrients.fat}g</p>
                                    <p className="text-sm text-gray-600">Fat</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-3xl font-bold text-pink-600">{mealPlan.totalNutrients.fiber}g</p>
                                    <p className="text-sm text-gray-600">Fiber</p>
                                </div>
                            </div>
                        </div>

                        {/* Meals */}
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            {/* Breakfast */}
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-semibold">Breakfast</h3>
                                    <span className="text-sm text-gray-600">{mealPlan.breakfast.time}</span>
                                </div>
                                <div className="space-y-2 mb-4">
                                    {mealPlan.breakfast.ingredients.map((item, index) => (
                                        <div key={index} className="flex justify-between text-sm">
                                            <span>{item.name}</span>
                                            <span className="text-gray-600">{item.amount}</span>
                                        </div>
                                    ))}
                                </div>
                                <div className="border-t pt-3">
                                    <div className="grid grid-cols-4 gap-2 text-xs">
                                        <div>
                                            <span className="text-gray-600">Cal: </span>
                                            <span className="font-semibold">{mealPlan.breakfast.calories}</span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">P: </span>
                                            <span className="font-semibold">
                                                {mealPlan.breakfast.ingredients.reduce((sum, i) => sum + i.protein, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">C: </span>
                                            <span className="font-semibold">
                                                {mealPlan.breakfast.ingredients.reduce((sum, i) => sum + i.carbs, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">F: </span>
                                            <span className="font-semibold">
                                                {mealPlan.breakfast.ingredients.reduce((sum, i) => sum + i.fat, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                    </div>
                                    <div className="mt-3 p-2 bg-purple-50 rounded text-xs text-purple-700">
                                        <p className="font-medium">Ayurvedic Tip:</p>
                                        <p>{mealPlan.breakfast.ayurvedicNote}</p>
                                    </div>
                                </div>
                            </div>

                            {/* Lunch */}
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-semibold">Lunch</h3>
                                    <span className="text-sm text-gray-600">{mealPlan.lunch.time}</span>
                                </div>
                                <div className="space-y-2 mb-4">
                                    {mealPlan.lunch.ingredients.map((item, index) => (
                                        <div key={index} className="flex justify-between text-sm">
                                            <span>{item.name}</span>
                                            <span className="text-gray-600">{item.amount}</span>
                                        </div>
                                    ))}
                                </div>
                                <div className="border-t pt-3">
                                    <div className="grid grid-cols-4 gap-2 text-xs">
                                        <div>
                                            <span className="text-gray-600">Cal: </span>
                                            <span className="font-semibold">{mealPlan.lunch.calories}</span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">P: </span>
                                            <span className="font-semibold">
                                                {mealPlan.lunch.ingredients.reduce((sum, i) => sum + i.protein, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">C: </span>
                                            <span className="font-semibold">
                                                {mealPlan.lunch.ingredients.reduce((sum, i) => sum + i.carbs, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">F: </span>
                                            <span className="font-semibold">
                                                {mealPlan.lunch.ingredients.reduce((sum, i) => sum + i.fat, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                    </div>
                                    <div className="mt-3 p-2 bg-green-50 rounded text-xs text-green-700">
                                        <p className="font-medium">Spiritual Timing:</p>
                                        <p>{mealPlan.lunch.spiritualTiming}</p>
                                    </div>
                                </div>
                            </div>

                            {/* Dinner */}
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-semibold">Dinner</h3>
                                    <span className="text-sm text-gray-600">{mealPlan.dinner.time}</span>
                                </div>
                                <div className="space-y-2 mb-4">
                                    {mealPlan.dinner.ingredients.map((item, index) => (
                                        <div key={index} className="flex justify-between text-sm">
                                            <span>{item.name}</span>
                                            <span className="text-gray-600">{item.amount}</span>
                                        </div>
                                    ))}
                                </div>
                                <div className="border-t pt-3">
                                    <div className="grid grid-cols-4 gap-2 text-xs">
                                        <div>
                                            <span className="text-gray-600">Cal: </span>
                                            <span className="font-semibold">{mealPlan.dinner.calories}</span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">P: </span>
                                            <span className="font-semibold">
                                                {mealPlan.dinner.ingredients.reduce((sum, i) => sum + i.protein, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">C: </span>
                                            <span className="font-semibold">
                                                {mealPlan.dinner.ingredients.reduce((sum, i) => sum + i.carbs, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-gray-600">F: </span>
                                            <span className="font-semibold">
                                                {mealPlan.dinner.ingredients.reduce((sum, i) => sum + i.fat, 0).toFixed(1)}g
                                            </span>
                                        </div>
                                    </div>
                                    <div className="mt-3 p-2 bg-blue-50 rounded text-xs text-blue-700">
                                        <p className="font-medium">Evening Note:</p>
                                        <p>{mealPlan.dinner.ayurvedicNote}</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Hydration and Snacks */}
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Hydration Plan</h3>
                                <div className="space-y-3">
                                    <div className="flex items-center space-x-3">
                                        <i className="fas fa-tint text-blue-500 text-xl"></i>
                                        <div>
                                            <p className="font-medium">Daily Target: {mealPlan.hydration.waterIntake}</p>
                                            <p className="text-sm text-gray-600">{mealPlan.hydration.ayurvedicTip}</p>
                                        </div>
                                    </div>
                                    <div className="mt-3">
                                        <p className="text-sm font-medium text-gray-700 mb-2">Optimal Timing:</p>
                                        <div className="space-y-1">
                                            {mealPlan.hydration.timing.map((time, index) => (
                                                <div key={index} className="flex items-center space-x-2 text-sm">
                                                    <i className="fas fa-check text-green-500 text-xs"></i>
                                                    <span>{time}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Snack Options</h3>
                                <div className="space-y-3">
                                    <p className="text-sm text-gray-600">Daily allowance: {mealPlan.snacks.calories} calories</p>
                                    {mealPlan.snacks.options.map((snack, index) => (
                                        <div key={index} className="p-3 bg-gray-50 rounded-lg">
                                            <div className="flex justify-between items-center">
                                                <span className="text-sm font-medium">{snack.name}</span>
                                                <span className="text-xs text-gray-600">{snack.calories} cal</span>
                                            </div>
                                            <p className="text-xs text-gray-500 mt-1">{snack.amount}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const ScheduleTab = ({ schedule, onRegenerate, refreshing }) => {
                if (!schedule) {
                    return <div className="text-center py-8">Loading schedule...</div>;
                }

                const getActivityColor = (type) => {
                    const colors = {
                        personal: 'bg-purple-100 border-purple-300',
                        spiritual: 'bg-pink-100 border-pink-300',
                        meal: 'bg-green-100 border-green-300',
                        exercise: 'bg-blue-100 border-blue-300',
                        work: 'bg-gray-100 border-gray-300',
                        sleep: 'bg-indigo-100 border-indigo-300'
                    };
                    return colors[type] || 'bg-gray-100 border-gray-300';
                };

                const getEnergyIcon = (level) => {
                    const icons = {
                        high: '⚡',
                        medium: '🔥',
                        low: '🌙',
                        rest: '😴'
                    };
                    return icons[level] || '⭐';
                };

                return (
                    <div className="space-y-6 animate-fade-in">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-gray-800">Optimized Daily Schedule</h2>
                            <button
                                onClick={onRegenerate}
                                disabled={refreshing}
                                className="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:opacity-50"
                            >
                                {refreshing ? (
                                    <><i className="fas fa-spinner fa-spin mr-2"></i>Regenerating...</>
                                ) : (
                                    <><i className="fas fa-sync-alt mr-2"></i>Regenerate Schedule</>
                                )}
                            </button>
                        </div>

                        {/* Schedule Timeline */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <div className="space-y-3">
                                {schedule.map((item, index) => (
                                    <div key={index} className={`flex items-center space-x-4 p-3 rounded-lg border ${getActivityColor(item.type)}`}>
                                        <div className="flex-shrink-0 w-16 text-center">
                                            <p className="font-bold text-sm">{item.time}</p>
                                            <p className="text-xs text-gray-600">{item.duration} min</p>
                                        </div>
                                        <div className="flex-grow">
                                            <div className="flex items-center space-x-2">
                                                <span className="text-lg">{getEnergyIcon(item.energyLevel)}</span>
                                                <h4 className="font-semibold">{item.activity}</h4>
                                            </div>
                                            <p className="text-sm text-gray-600 mt-1">{item.description}</p>
                                        </div>
                                        <div className="flex-shrink-0">
                                            <span className={`px-3 py-1 rounded-full text-xs font-medium ${
                                                item.type === 'meal' ? 'bg-green-200 text-green-800' :
                                                item.type === 'exercise' ? 'bg-blue-200 text-blue-800' :
                                                item.type === 'spiritual' ? 'bg-pink-200 text-pink-800' :
                                                item.type === 'work' ? 'bg-gray-200 text-gray-800' :
                                                item.type === 'personal' ? 'bg-purple-200 text-purple-800' :
                                                'bg-indigo-200 text-indigo-800'
                                            }`}>
                                                {item.type}
                                            </span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Schedule Summary */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Time Distribution</h3>
                                <div className="space-y-2">
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Sleep</span>
                                        <span className="font-medium">8 hours</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Work</span>
                                        <span className="font-medium">8 hours</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Personal</span>
                                        <span className="font-medium">3 hours</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Meals</span>
                                        <span className="font-medium">2 hours</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Exercise</span>
                                        <span className="font-medium">45 min</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-sm">Spiritual</span>
                                        <span className="font-medium">40 min</span>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Energy Management</h3>
                                <div className="space-y-3">
                                    <p className="text-sm text-gray-600">Your schedule is optimized for your natural energy rhythms</p>
                                    <div className="space-y-2">
                                        <div className="flex items-center space-x-2">
                                            <span>⚡</span>
                                            <span className="text-sm">High energy tasks: Morning</span>
                                        </div>
                                        <div className="flex items-center space-x-2">
                                            <span>🔥</span>
                                            <span className="text-sm">Medium energy: Afternoon</span>
                                        </div>
                                        <div className="flex items-center space-x-2">
                                            <span>🌙</span>
                                            <span className="text-sm">Low energy: Evening</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Wellness Integration</h3>
                                <div className="space-y-2">
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle text-green-500"></i>
                                        <span className="text-sm">Meals aligned with circadian rhythm</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle text-green-500"></i>
                                        <span className="text-sm">Exercise at optimal energy time</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle text-green-500"></i>
                                        <span className="text-sm">Spiritual practices included</span>
                                    </div>
                                    <div className="flex items-center space-x-2">
                                        <i className="fas fa-check-circle text-green-500"></i>
                                        <span className="text-sm">Work-life balance maintained</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const SpiritualTab = ({ profile }) => {
                const [astrologyData, setAstrologyData] = useState(null);
                const [doshaData, setDoshaData] = useState(null);
                const [loading, setLoading] = useState(false);

                useEffect(() => {
                    loadSpiritualData();
                }, []);

                const loadSpiritualData = async () => {
                    setLoading(true);
                    const [astro, dosha] = await Promise.all([
                        APIService.getAstrologyReading(profile),
                        APIService.analyzeDoshas(profile)
                    ]);
                    setAstrologyData(astro);
                    setDoshaData(dosha);
                    setLoading(false);
                };

                if (loading) {
                    return <div className="text-center py-8">Loading spiritual insights...</div>;
                }

                return (
                    <div className="space-y-6 animate-fade-in">
                        <h2 className="text-2xl font-bold text-gray-800">Spiritual & Holistic Wellness</h2>

                        {/* Astrology Section */}
                        {astrologyData && (
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Astrological Profile</h3>
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div className="text-center p-4 bg-purple-50 rounded-lg">
                                        <i className="fas fa-sun text-3xl text-yellow-500 mb-2"></i>
                                        <p className="font-semibold">{astrologyData.sunSign}</p>
                                        <p className="text-sm text-gray-600">Sun Sign</p>
                                    </div>
                                    <div className="text-center p-4 bg-blue-50 rounded-lg">
                                        <i className="fas fa-moon text-3xl text-blue-400 mb-2"></i>
                                        <p className="font-semibold">{astrologyData.moonSign}</p>
                                        <p className="text-sm text-gray-600">Moon Sign</p>
                                    </div>
                                    <div className="text-center p-4 bg-pink-50 rounded-lg">
                                        <i className="fas fa-arrow-up text-3xl text-pink-500 mb-2"></i>
                                        <p className="font-semibold">{astrologyData.risingSign}</p>
                                        <p className="text-sm text-gray-600">Rising Sign</p>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div>
                                        <h4 className="font-medium mb-2">Today's Focus</h4>
                                        <p className="text-sm text-gray-700 bg-gray-50 p-3 rounded">{astrologyData.todaysFocus}</p>
                                    </div>

                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h4 className="font-medium mb-2">Lucky Foods Today</h4>
                                            <div className="space-y-1">
                                                {astrologyData.luckyFoods.map((food, index) => (
                                                    <div key={index} className="flex items-center space-x-2 text-sm">
                                                        <i className="fas fa-star text-yellow-400 text-xs"></i>
                                                        <span>{food}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                        <div>
                                            <h4 className="font-medium mb-2">Best Meal Times</h4>
                                            <div className="space-y-1">
                                                {astrologyData.bestMealTimes.map((time, index) => (
                                                    <div key={index} className="flex items-center space-x-2 text-sm">
                                                        <i className="fas fa-clock text-blue-400 text-xs"></i>
                                                        <span>{time}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <h4 className="font-medium mb-2">Current Planetary Transits</h4>
                                        <div className="space-y-2">
                                            <div className="p-2 bg-orange-50 rounded">
                                                <span className="font-medium text-sm">Mercury:</span>
                                                <span className="text-sm ml-2">{astrologyData.currentTransits.mercury}</span>
                                            </div>
                                            <div className="p-2 bg-pink-50 rounded">
                                                <span className="font-medium text-sm">Venus:</span>
                                                <span className="text-sm ml-2">{astrologyData.currentTransits.venus}</span>
                                            </div>
                                            <div className="p-2 bg-red-50 rounded">
                                                <span className="font-medium text-sm">Mars:</span>
                                                <span className="text-sm ml-2">{astrologyData.currentTransits.mars}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Ayurvedic Dosha Section */}
                        {doshaData && (
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Ayurvedic Constitution</h3>
                                
                                <div className="mb-6">
                                    <div className="flex items-center justify-center space-x-8 mb-4">
                                        <div className="text-center">
                                            <div className="w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center mb-2">
                                                <span className="text-3xl">💨</span>
                                            </div>
                                            <p className="font-medium">Vata</p>
                                            <p className="text-sm text-gray-600">{doshaData.scores.vata * 20}%</p>
                                        </div>
                                        <div className="text-center">
                                            <div className="w-24 h-24 rounded-full bg-red-100 flex items-center justify-center mb-2">
                                                <span className="text-3xl">🔥</span>
                                            </div>
                                            <p className="font-medium">Pitta</p>
                                            <p className="text-sm text-gray-600">{doshaData.scores.pitta * 20}%</p>
                                        </div>
                                        <div className="text-center">
                                            <div className="w-24 h-24 rounded-full bg-green-100 flex items-center justify-center mb-2">
                                                <span className="text-3xl">🌍</span>
                                            </div>
                                            <p className="font-medium">Kapha</p>
                                            <p className="text-sm text-gray-600">{doshaData.scores.kapha * 20}%</p>
                                        </div>
                                    </div>

                                    <div className="text-center mb-4">
                                        <span className="px-4 py-2 bg-purple-100 text-purple-800 rounded-full font-semibold">
                                            Dominant Dosha: {doshaData.dominant.charAt(0).toUpperCase() + doshaData.dominant.slice(1)}
                                        </span>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <h4 className="font-medium mb-2">Characteristics</h4>
                                        <p className="text-sm text-gray-700 bg-gray-50 p-3 rounded">
                                            {doshaData.characteristics[doshaData.dominant]}
                                        </p>
                                    </div>

                                    <div>
                                        <h4 className="font-medium mb-2">Dietary Recommendations</h4>
                                        <div className="space-y-1">
                                            {doshaData.recommendations.map((rec, index) => (
                                                <div key={index} className="flex items-start space-x-2 text-sm">
                                                    <i className="fas fa-check text-green-500 text-xs mt-1"></i>
                                                    <span>{rec}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="md:col-span-2">
                                        <h4 className="font-medium mb-2">Balancing Foods for Your Dosha</h4>
                                        <div className="flex flex-wrap gap-2">
                                            {doshaData.balancingFoods.map((food, index) => (
                                                <span key={index} className="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">
                                                    {food}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Meditation & Mindfulness */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-lg font-semibold mb-4">Today's Spiritual Practice</h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div className="p-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg">
                                    <h4 className="font-medium mb-2">Morning Practice</h4>
                                    <p className="text-sm text-gray-700 mb-3">Sun Salutation & Gratitude Meditation</p>
                                    <button className="px-4 py-2 bg-white text-purple-600 rounded-lg text-sm font-medium hover:bg-purple-50 transition">
                                        Start 15-min Session
                                    </button>
                                </div>
                                <div className="p-4 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg">
                                    <h4 className="font-medium mb-2">Evening Practice</h4>
                                    <p className="text-sm text-gray-700 mb-3">Reflection Journal & Sleep Meditation</p>
                                    <button className="px-4 py-2 bg-white text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-50 transition">
                                        Start 10-min Session
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const InsightsTab = ({ profile }) => {
                const [personalityData, setPersonalityData] = useState(null);
                const [loading, setLoading] = useState(false);

                useEffect(() => {
                    loadPersonalityData();
                }, []);

                const loadPersonalityData = async () => {
                    setLoading(true);
                    const data = await APIService.analyzePersonality(profile);
                    setPersonalityData(data);
                    setLoading(false);
                };

                if (loading) {
                    return <div className="text-center py-8">Analyzing your wellness patterns...</div>;
                }

                return (
                    <div className="space-y-6 animate-fade-in">
                        <h2 className="text-2xl font-bold text-gray-800">Wellness Insights & Analytics</h2>

                        {/* Personality Profile */}
                        {personalityData && (
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-lg font-semibold mb-4">Personality Profile</h3>
                                
                                <div className="mb-6">
                                    <div className="text-center mb-4">
                                        <span className="text-2xl font-bold text-purple-600">{personalityData.profile}</span>
                                    </div>
                                    
                                    <div className="space-y-3">
                                        {[
                                            { trait: 'Openness', value: personalityData.openness, color: 'bg-purple-500' },
                                            { trait: 'Conscientiousness', value: personalityData.conscientiousness, color: 'bg-blue-500' },
                                            { trait: 'Extraversion', value: personalityData.extraversion, color: 'bg-green-500' },
                                            { trait: 'Agreeableness', value: personalityData.agreeableness, color: 'bg-yellow-500' },
                                            { trait: 'Neuroticism', value: personalityData.neuroticism, color: 'bg-red-500' }
                                        ].map((item, index) => (
                                            <div key={index}>
                                                <div className="flex justify-between text-sm mb-1">
                                                    <span>{item.trait}</span>
                                                    <span>{item.value}%</span>
                                                </div>
                                                <div className="w-full bg-gray-200 rounded-full h-2">
                                                    <div className={`${item.color} h-2 rounded-full transition-all duration-500`} style={{width: `${item.value}%`}}></div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <h4 className="font-medium mb-2">Strengths</h4>
                                        <div className="space-y-1">
                                            {personalityData.strengths.map((strength, index) => (
                                                <div key={index} className="flex items-center space-x-2 text-sm">
                                                    <i className="fas fa-star text-yellow-400"></i>
                                                    <span>{strength}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                    <div>
                                        <h4 className="font-medium mb-2">Growth Areas</h4>
                                        <div className="space-y-1">
                                            {personalityData.growthAreas.map((area, index) => (
                                                <div key={index} className="flex items-center space-x-2 text-sm">
                                                    <i className="fas fa-seedling text-green-500"></i>
                                                    <span>{area}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                <div className="mt-4 p-3 bg-purple-50 rounded">
                                    <p className="text-sm text-purple-800">
                                        <strong>Wellness Style:</strong> {personalityData.wellnessStyle}
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* Weekly Trends */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-lg font-semibold mb-4">Weekly Wellness Trends</h3>
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-green-600">92%</div>
                                    <p className="text-sm text-gray-600">Nutrition Adherence</p>
                                    <p className="text-xs text-green-600">↑ 5% from last week</p>
                                </div>
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-blue-600">7.5h</div>
                                    <p className="text-sm text-gray-600">Avg Sleep</p>
                                    <p className="text-xs text-blue-600">↑ 30min from last week</p>
                                </div>
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-purple-600">85%</div>
                                    <p className="text-sm text-gray-600">Mood Score</p>
                                    <p className="text-xs text-purple-600">↑ 8% from last week</p>
                                </div>
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-pink-600">6/7</div>
                                    <p className="text-sm text-gray-600">Active Days</p>
                                    <p className="text-xs text-gray-600">Same as last week</p>
                                </div>
                            </div>
                        </div>

                        {/* Recommendations */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-lg font-semibold mb-4">AI Recommendations</h3>
                            <div className="space-y-3">
                                <div className="p-3 bg-blue-50 rounded-lg">
                                    <div className="flex items-start space-x-3">
                                        <i className="fas fa-lightbulb text-blue-500 mt-1"></i>
                                        <div>
                                            <p className="font-medium text-sm">Optimize Protein Intake</p>
                                            <p className="text-xs text-gray-600 mt-1">
                                                Your protein intake is 15% below target. Consider adding Greek yogurt or protein powder to your breakfast.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-3 bg-green-50 rounded-lg">
                                    <div className="flex items-start space-x-3">
                                        <i className="fas fa-lightbulb text-green-500 mt-1"></i>
                                        <div>
                                            <p className="font-medium text-sm">Evening Routine Enhancement</p>
                                            <p className="text-xs text-gray-600 mt-1">
                                                Your sleep quality could improve. Try reducing screen time 1 hour before bed and adding chamomile tea.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-3 bg-purple-50 rounded-lg">
                                    <div className="flex items-start space-x-3">
                                        <i className="fas fa-lightbulb text-purple-500 mt-1"></i>
                                        <div>
                                            <p className="font-medium text-sm">Stress Management</p>
                                            <p className="text-xs text-gray-600 mt-1">
                                                Wednesday afternoons show elevated stress. Schedule a 5-minute breathing exercise at 3 PM.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // Notification System
            const NotificationContainer = () => (
                <div className="fixed top-4 right-4 z-50 space-y-2">
                    {notifications.map(notification => (
                        <div
                            key={notification.id}
                            className={`p-4 rounded-lg shadow-lg animate-slide-in ${
                                notification.type === 'success' ? 'bg-green-500' :
                                notification.type === 'error' ? 'bg-red-500' :
                                notification.type === 'warning' ? 'bg-yellow-500' :
                                'bg-blue-500'
                            } text-white`}
                        >
                            <div className="flex items-center space-x-2">
                                <i className={`fas ${
                                    notification.type === 'success' ? 'fa-check-circle' :
                                    notification.type === 'error' ? 'fa-exclamation-circle' :
                                    notification.type === 'warning' ? 'fa-exclamation-triangle' :
                                    'fa-info-circle'
                                }`}></i>
                                <span>{notification.message}</span>
                            </div>
                        </div>
                    ))}
                </div>
            );

            // Loading Screen
            const LoadingScreen = () => (
                <div className="min-h-screen gradient-bg flex items-center justify-center">
                    <div className="text-center text-white">
                        <i className="fas fa-leaf text-6xl mb-4 animate-pulse"></i>
                        <h2 className="text-2xl font-bold mb-2">Preparing Your Wellness Journey</h2>
                        <p className="text-lg opacity-80">Generating personalized recommendations...</p>
                    </div>
                </div>
            );

            // Main Render
            return (
                <div className="font-sans">
                    <NotificationContainer />
                    {loading && <LoadingScreen />}
                    {!loading && currentView === 'landing' && <LandingPage />}
                    {!loading && currentView === 'onboarding' && <OnboardingForm />}
                    {!loading && currentView === 'dashboard' && <Dashboard />}
                </div>
            );
        };

        // Render the app with error boundary
        ReactDOM.render(
            <ErrorBoundary>
                <WellnessApp />
            </ErrorBoundary>,
            document.getElementById('root')
        );

        // Register Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(reg => {
                        console.log('Service worker registered', reg.scope);
                    })
                    .catch(err => console.warn('Service worker registration failed', err));
            });
        }
    </script>
</body>
</html>